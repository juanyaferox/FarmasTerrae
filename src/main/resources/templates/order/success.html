<!DOCTYPE html>
<html th:attr="lang=${#locale.language}" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Farmasterrae - Confirmación de Pedido', '/dist/output.css')}"></head>
<body class="bg-gray-50 min-h-screen flex flex-col">
<!-- Header -->
<header th:replace="~{fragments/header :: header}"></header>

<!-- Main Content: Order Confirmation -->
<main class="flex-grow py-12">
    <div class="container mx-auto px-4">
        <h1 class="text-4xl font-bold text-green-800 text-center mb-12">Confirmación de Pedido</h1>
        <div class="bg-white rounded-md shadow-md p-8">
            <!-- Order Details -->
            <div class="mb-8">
                <h2 class="text-2xl font-semibold text-green-700 mb-4">Detalles del Pedido</h2>
                <table class="min-w-full table-auto border border-gray-200">
                    <thead>
                    <tr class="bg-green-100">
                        <th class="px-4 py-3 text-left text-sm font-medium text-green-800">Producto</th>
                        <th class="px-4 py-3 text-left text-sm font-medium text-green-800">Cantidad</th>
                        <th class="px-4 py-3 text-left text-sm font-medium text-green-800">Precio Unitario</th>
                        <th class="px-4 py-3 text-left text-sm font-medium text-green-800">Subtotal</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="entry : ${order.pedidos.entrySet()}" class="border-t border-gray-200 even:bg-green-50">
                        <td class="px-4 py-2" th:text="${entry.key}"></td>
                        <td class="px-4 py-2" th:text="${entry.value}"></td>
                        <td class="px-4 py-2" th:text="${'€' + entry.key.price}"></td>
                        <td class="px-4 py-2" th:text="${'€' + (entry.key.price * entry.value)}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- Order Summary -->
            <div class="bg-green-50 p-6 rounded-md shadow-sm">
                <h2 class="text-2xl font-semibold text-green-700 mb-4">Resumen del Pedido</h2>
                <div class="space-y-2">
                    <p class="text-lg"><span class="font-medium text-gray-700">Precio Total:</span> <span th:text="${'€' + order.total}"></span></p>
                    <p class="text-lg"><span class="font-medium text-gray-700">Estado:</span> <span th:text="${order.estado}"></span></p>
                    <p class="text-lg"><span class="font-medium text-gray-700">Fecha de Realización:</span> <span th:text="${order.realizada}"></span></p>
                    <p class="text-lg"><span class="font-medium text-gray-700">Última Actualización:</span> <span th:text="${order.ultimaActualizacion}"></span></p>
                    <p class="text-lg"><span class="font-medium text-gray-700">Método de Pago:</span> <span th:text="${order.metodoPago}"></span></p>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Footer -->
<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>